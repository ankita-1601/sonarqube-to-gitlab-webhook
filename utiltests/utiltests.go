package utiltests

const (
	// FakeURL const to be used in tests
	FakeURL = "http://gilab.local"
	// FakeToken const
	FakeToken = "aaa-bbb-ccc-x0"
	// FakeSonarqubeSecret const
	FakeSonarqubeSecret = "aaaaa-wwwww-ssss"
)

var (
	// GetGitlabCalls int
	GetGitlabCalls int
	// GitlabPostCommentCalls int
	GitlabPostCommentCalls int
)

// RepositoryMock struct is used for Mock Repository requests
type RepositoryMock struct {
}

// GetGitlab func Mock
func (repo RepositoryMock) GetGitlab(gitlabURL, gitlabToken string) ([]byte, string, error) {
	GetGitlabCalls++
	// returnByteProjects := []byte(`[{"id":1,"description":"Fake system","name":"fake","name_with_namespace":"fake / fakesystem","path":"fake","path_with_namespace":"fake/fakesystem","created_at":"2018-08-20T18:54:13.601Z","default_branch":"master","tag_list":["Fake"],"ssh_url_to_repo":"git@gitlab.local:fake/fakesystem.git","http_url_to_repo":"https://gitlab.local/fake/fakesystem.git","web_url":"https://gitlab.local/fake/fakesystem","readme_url":"https://gitlab.local/fake/fakesystem/blob/master/README.md","avatar_url":"https://gitlab.local/uploads/-/system/project/avatar/1/calculator-icon.png","star_count":10,"forks_count":1,"last_activity_at":"2020-03-24T10:16:13.983Z","namespace":{"id":3,"name":"fake","path":"fake","kind":"group","full_path":"fake","parent_id":null,"avatar_url":"/uploads/-/system/group/avatar/3/cacao_beans.png","web_url":"https://gitlab.local/groups/fake"},"_links":{"self":"https://gitlab.local/api/v4/projects/1","merge_requests":"https://gitlab.local/api/v4/projects/1/merge_requests","repo_branches":"https://gitlab.local/api/v4/projects/1/repository/branches","labels":"https://gitlab.local/api/v4/projects/1/labels","events":"https://gitlab.local/api/v4/projects/1/events","members":"https://gitlab.local/api/v4/projects/1/members"},"empty_repo":false,"archived":false,"visibility":"internal","resolve_outdated_diff_discussions":false,"container_registry_enabled":true,"issues_enabled":false,"merge_requests_enabled":true,"wiki_enabled":false,"jobs_enabled":true,"snippets_enabled":true,"issues_access_level":"disabled","repository_access_level":"enabled","merge_requests_access_level":"enabled","wiki_access_level":"disabled","builds_access_level":"enabled","snippets_access_level":"enabled","shared_runners_enabled":true,"lfs_enabled":true,"creator_id":2,"import_status":"none","ci_default_git_depth":null,"public_jobs":true,"build_timeout":14400,"auto_cancel_pending_pipelines":"enabled","build_coverage_regex":"","ci_config_path":"","shared_with_groups":[{"group_id":58,"group_name":"Fake external","group_full_path":"fakeexternal","group_access_level":10,"expires_at":null}],"only_allow_merge_if_pipeline_succeeds":false,"request_access_enabled":false,"only_allow_merge_if_all_discussions_are_resolved":true,"remove_source_branch_after_merge":false,"printing_merge_request_link_enabled":true,"merge_method":"rebase_merge","suggestion_commit_message":"","auto_devops_enabled":false,"auto_devops_deploy_strategy":"continuous","autoclose_referenced_issues":true,"permissions":{"project_access":null,"group_access":{"access_level":20,"notification_level":3}},"approvals_before_merge":1,"mirror":false,"external_authorization_classification_label":null,"packages_enabled":false,"service_desk_enabled":false,"service_desk_address":null,"marked_for_deletion_at":null}]`)
	returnByteProjects := []byte(`[{"id":1,"description":"Fake system","name":"fake","name_with_namespace":"fake / fakesystem","path":"fake","path_with_namespace":"fake/fakesystem","created_at":"2018-08-20T18:54:13.601Z","default_branch":"master","tag_list":["Fake"],"ssh_url_to_repo":"git@gitlab.local:fake/fakesystem.git","http_url_to_repo":"https://gitlab.local/fake/fakesystem.git","web_url":"https://gitlab.local/fake/fakesystem","readme_url":"https://gitlab.local/fake/fakesystem/blob/master/README.md","avatar_url":"https://gitlab.local/uploads/-/system/project/avatar/1/calculator-icon.png","star_count":10,"forks_count":1,"last_activity_at":"2020-03-24T10:16:13.983Z","namespace":{"id":3,"name":"fake","path":"fake","kind":"group","full_path":"fake","parent_id":null,"avatar_url":"/uploads/-/system/group/avatar/3/cacao_beans.png","web_url":"https://gitlab.local/groups/fake"},"_links":{"self":"https://gitlab.local/api/v4/projects/1","merge_requests":"https://gitlab.local/api/v4/projects/1/merge_requests","repo_branches":"https://gitlab.local/api/v4/projects/1/repository/branches","labels":"https://gitlab.local/api/v4/projects/1/labels","events":"https://gitlab.local/api/v4/projects/1/events","members":"https://gitlab.local/api/v4/projects/1/members"},"empty_repo":false,"archived":false,"visibility":"internal","resolve_outdated_diff_discussions":false,"container_registry_enabled":true,"issues_enabled":false,"merge_requests_enabled":true,"wiki_enabled":false,"jobs_enabled":true,"snippets_enabled":true,"issues_access_level":"disabled","repository_access_level":"enabled","merge_requests_access_level":"enabled","wiki_access_level":"disabled","builds_access_level":"enabled","snippets_access_level":"enabled","shared_runners_enabled":true,"lfs_enabled":true,"creator_id":2,"import_status":"none","ci_default_git_depth":null,"public_jobs":true,"build_timeout":14400,"auto_cancel_pending_pipelines":"enabled","build_coverage_regex":"","ci_config_path":"","shared_with_groups":[{"group_id":58,"group_name":"Fake external","group_full_path":"fakeexternal","group_access_level":10,"expires_at":null}],"only_allow_merge_if_pipeline_succeeds":false,"request_access_enabled":false,"only_allow_merge_if_all_discussions_are_resolved":true,"remove_source_branch_after_merge":false,"printing_merge_request_link_enabled":true,"merge_method":"rebase_merge","suggestion_commit_message":"","auto_devops_enabled":false,"auto_devops_deploy_strategy":"continuous","autoclose_referenced_issues":true,"permissions":{"project_access":null,"group_access":{"access_level":20,"notification_level":3}},"approvals_before_merge":1,"mirror":false,"external_authorization_classification_label":null,"packages_enabled":false,"service_desk_enabled":false,"service_desk_address":null,"marked_for_deletion_at":null},{"id":2,"description":"Foobar system","name":"foobar","name_with_namespace":"foobar / foobarsystem","path":"foobar","path_with_namespace":"foobar/foobarsystem","created_at":"2018-08-20T18:54:13.601Z","default_branch":"master","tag_list":["foobar"],"ssh_url_to_repo":"git@gitlab.local:foobar/foobarsystem.git","http_url_to_repo":"https://gitlab.local/foobar/foobarsystem.git","web_url":"https://gitlab.local/foobar/foobarsystem","readme_url":"https://gitlab.local/foobar/foobarsystem/blob/master/README.md","avatar_url":"https://gitlab.local/uploads/-/system/project/avatar/2/calculator-icon.png","star_count":10,"forks_count":1,"last_activity_at":"2020-03-24T10:16:13.983Z","namespace":{"id":3,"name":"foobar","path":"foobar","kind":"group","full_path":"foobar","parent_id":null,"avatar_url":"/uploads/-/system/group/avatar/3/beans.png","web_url":"https://gitlab.local/groups/foobar"},"_links":{"self":"https://gitlab.local/api/v4/projects/2","merge_requests":"https://gitlab.local/api/v4/projects/2/merge_requests","repo_branches":"https://gitlab.local/api/v4/projects/2/repository/branches","labels":"https://gitlab.local/api/v4/projects/2/labels","events":"https://gitlab.local/api/v4/projects/2/events","members":"https://gitlab.local/api/v4/projects/2/members"},"empty_repo":false,"archived":false,"visibility":"internal","resolve_outdated_diff_discussions":false,"container_registry_enabled":true,"issues_enabled":false,"merge_requests_enabled":true,"wiki_enabled":false,"jobs_enabled":true,"snippets_enabled":true,"issues_access_level":"disabled","repository_access_level":"enabled","merge_requests_access_level":"enabled","wiki_access_level":"disabled","builds_access_level":"enabled","snippets_access_level":"enabled","shared_runners_enabled":true,"lfs_enabled":true,"creator_id":2,"import_status":"none","ci_default_git_depth":null,"public_jobs":true,"build_timeout":14400,"auto_cancel_pending_pipelines":"enabled","build_coverage_regex":"","ci_config_path":"","shared_with_groups":[{"group_id":59,"group_name":"foobar external","group_full_path":"foobarexternal","group_access_level":11,"expires_at":null}],"only_allow_merge_if_pipeline_succeeds":false,"request_access_enabled":false,"only_allow_merge_if_all_discussions_are_resolved":true,"remove_source_branch_after_merge":false,"printing_merge_request_link_enabled":true,"merge_method":"rebase_merge","suggestion_commit_message":"","auto_devops_enabled":false,"auto_devops_deploy_strategy":"continuous","autoclose_referenced_issues":true,"permissions":{"project_access":null,"group_access":{"access_level":21,"notification_level":3}},"approvals_before_merge":1,"mirror":false,"external_authorization_classification_label":null,"packages_enabled":false,"service_desk_enabled":false,"service_desk_address":null,"marked_for_deletion_at":null}]`)
	return returnByteProjects, "", nil
}

// GitlabPostComment func mock
func (repo RepositoryMock) GitlabPostComment(url string, params map[string]string) error {
	GitlabPostCommentCalls++
	return nil
}
